<h1>Builds</h1>

<section>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Created</th>
        <th scope="col">Repository</th>
        <th scope="col">Commit</th>
        <th scope="col">Profile</th>
        <th scope="col">Channel</th>
        <th scope="col" colspan="2">Status</th>
      </tr>
    </thead>
    <tbody>
      {{#each this.sortedBuilds as |build|}}
        <tr>
          <td>{{format-date build.created}}</td>
          <td>{{build.commit.repo.name}}</td>
          <td>{{build.commit.message}}</td>
          <td>{{build.profile.name}}</td>
          <td>{{build.commit.channel.name}}</td>
          <td>{{build.status}}</td>
          <td>
            <LinkTo @route="ecosystem.builds.build" @model={{build}} class="btn btn-sm btn-primary">Details</LinkTo>
            <BsButton @onClick={{action "startBuild" build}} @type="primary" class="btn-sm">Start</BsButton>
            <BsButton @onClick={{action "stopBuild" build}} @type="primary" class="btn-sm">Stop</BsButton>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>

  <InfinityLoader @infinityModel={{this.model}} />
</section>
